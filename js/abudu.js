var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function delay(){$(".buryit").removeAttr("onclick")}"object"==("undefined"==typeof window?"undefined":_typeof(window))&&(window.Ribbons=function(){var o=window,e=document.body,s=document.documentElement,p=function t(){if(1!==arguments.length)return 2===arguments.length?Math.random()*(arguments[1]-arguments[0])+arguments[0]:0;if(Array.isArray(arguments[0])){var i=Math.round(t(0,arguments[0].length-1));return arguments[0][i]}return t(0,arguments[0])},n=function(t){var i=Math.max(0,o.innerWidth||s.clientWidth||e.clientWidth||0),n=Math.max(0,o.innerHeight||s.clientHeight||e.clientHeight||0);return{width:i,height:n,ratio:i/n,centerx:i/2,centery:n/2,scrollx:Math.max(0,o.pageXOffset||s.scrollLeft||e.scrollLeft||0)-(s.clientLeft||0),scrolly:Math.max(0,o.pageYOffset||s.scrollTop||e.scrollTop||0)-(s.clientTop||0)}},f=function(t,i){this.x=0,this.y=0,this.set(t,i)};f.prototype={constructor:f,set:function(t,i){this.x=t||0,this.y=i||0},copy:function(t){return this.x=t.x||0,this.y=t.y||0,this},multiply:function(t,i){return this.x*=t||1,this.y*=i||1,this},divide:function(t,i){return this.x/=t||1,this.y/=i||1,this},add:function(t,i){return this.x+=t||0,this.y+=i||0,this},subtract:function(t,i){return this.x-=t||0,this.y-=i||0,this},clampX:function(t,i){return this.x=Math.max(t,Math.min(this.x,i)),this},clampY:function(t,i){return this.y=Math.max(t,Math.min(this.y,i)),this},flipX:function(){return this.x*=-1,this},flipY:function(){return this.y*=-1,this}};var t=function(t){this._canvas=null,this._context=null,this._sto=null,this._width=0,this._height=0,this._scroll=0,this._ribbons=[],this._options={colorSaturation:"80%",colorBrightness:"60%",colorAlpha:.65,colorCycleSpeed:6,verticalPosition:"center",horizontalSpeed:150,ribbonCount:5,strokeSize:5,parallaxAmount:-.5,animateSections:!0},this._onDraw=this._onDraw.bind(this),this._onResize=this._onResize.bind(this),this._onScroll=this._onScroll.bind(this),this.setOptions(t),this.init()};return t.prototype={constructor:t,setOptions:function(t){if("object"==(void 0===t?"undefined":_typeof(t)))for(var i in t)t.hasOwnProperty(i)&&(this._options[i]=t[i])},init:function(){try{this._canvas=document.createElement("canvas"),this._canvas.style.display="block",this._canvas.style.position="fixed",this._canvas.style.margin="0",this._canvas.style.padding="0",this._canvas.style.border="0",this._canvas.style.outline="0",this._canvas.style.left="0",this._canvas.style.top="0",this._canvas.style.width="100%",this._canvas.style.height="100%",this._canvas.style["z-index"]="-1",this._onResize(),this._context=this._canvas.getContext("2d"),this._context.clearRect(0,0,this._width,this._height),this._context.globalAlpha=this._options.colorAlpha,window.addEventListener("resize",this._onResize),window.addEventListener("scroll",this._onScroll),document.body.appendChild(this._canvas)}catch(t){return void console.warn("Canvas Context Error: "+t.toString())}this._onDraw()},addRibbon:function(){var t=5<Math.round(p(1,9))?"right":"left",i=1e3,n=this._width+200,o=0,e=0,s="right"===t?-200:n,h=Math.round(p(0,this._height));/^(top|min)$/i.test(this._options.verticalPosition)?h=200:/^(middle|center)$/i.test(this._options.verticalPosition)?h=this._height/2:/^(bottom|max)$/i.test(this._options.verticalPosition)&&(h=this._height-200);for(var a=[],r=new f(s,h),c=new f(s,h),l=null,d=Math.round(p(0,360)),u=0;!(i<=0);){if(i--,o=Math.round((1*Math.random()-.2)*this._options.horizontalSpeed),e=Math.round((1*Math.random()-.5)*(.25*this._height)),(l=new f).copy(c),"right"===t){if(l.add(o,e),c.x>=n)break}else if("left"===t&&(l.subtract(o,e),c.x<=-200))break;a.push({point1:new f(r.x,r.y),point2:new f(c.x,c.y),point3:l,color:d,delay:u,dir:t,alpha:0,phase:0}),r.copy(c),c.copy(l),u+=4,d+=this._options.colorCycleSpeed}this._ribbons.push(a)},_drawRibbonSection:function(t){if(t){if(1<=t.phase&&t.alpha<=0)return!0;if(t.delay<=0){if(t.phase+=.02,t.alpha=1*Math.sin(t.phase),t.alpha=t.alpha<=0?0:t.alpha,t.alpha=1<=t.alpha?1:t.alpha,this._options.animateSections){var i=.1*Math.sin(1+t.phase*Math.PI/2);"right"===t.dir?(t.point1.add(i,0),t.point2.add(i,0),t.point3.add(i,0)):(t.point1.subtract(i,0),t.point2.subtract(i,0),t.point3.subtract(i,0)),t.point1.add(0,i),t.point2.add(0,i),t.point3.add(0,i)}}else t.delay-=.5;var n=this._options.colorSaturation,o=this._options.colorBrightness,e="hsla("+t.color+", "+n+", "+o+", "+t.alpha+" )";this._context.save(),0!==this._options.parallaxAmount&&this._context.translate(0,this._scroll*this._options.parallaxAmount),this._context.beginPath(),this._context.moveTo(t.point1.x,t.point1.y),this._context.lineTo(t.point2.x,t.point2.y),this._context.lineTo(t.point3.x,t.point3.y),this._context.fillStyle=e,this._context.fill(),0<this._options.strokeSize&&(this._context.lineWidth=this._options.strokeSize,this._context.strokeStyle=e,this._context.lineCap="round",this._context.stroke()),this._context.restore()}return!1},_onDraw:function(){for(var t=0,i=this._ribbons.length;t<i;++t)this._ribbons[t]||this._ribbons.splice(t,1);this._context.clearRect(0,0,this._width,this._height);for(var n=0;n<this._ribbons.length;++n){for(var o=this._ribbons[n],e=o.length,s=0,h=0;h<e;++h)this._drawRibbonSection(o[h])&&s++;e<=s&&(this._ribbons[n]=null)}this._ribbons.length<this._options.ribbonCount&&this.addRibbon(),requestAnimationFrame(this._onDraw)},_onResize:function(t){var i=n();this._width=i.width,this._height=i.height,this._canvas&&(this._canvas.width=this._width,this._canvas.height=this._height,this._context&&(this._context.globalAlpha=this._options.colorAlpha))},_onScroll:function(t){var i=n();this._scroll=i.scrolly}},t}()),new Ribbons({colorSaturation:"60%",colorBrightness:"50%",colorAlpha:.5,colorCycleSpeed:5,verticalPosition:"random",horizontalSpeed:200,ribbonCount:3,strokeSize:0,parallaxAmount:-.2,animateSections:!0}),function(){function t(){s=window.innerWidth,h=window.innerHeight,a=.216*s,l.setAttribute("width",s),l.setAttribute("height",h)}function i(){r.clearRect(0,0,s,h);for(var t=y.length,i=0;i<t;i++){var n=y[i];n.move(),n.fadeIn(),n.fadeOut(),n.draw()}}function n(){this.reset=function(){this.giant=o(3),this.comet=!this.giant&&!d&&o(10),this.x=e(0,s-10),this.y=e(0,h),this.r=e(1.1,2.6),this.dx=e(c,6*c)+(this.comet+1-1)*c*e(50,120)+2*c,this.dy=-e(c,6*c)-(this.comet+1-1)*c*e(50,120),this.fadingOut=null,this.fadingIn=!0,this.opacity=0,this.opacityTresh=e(.2,1-.4*(this.comet+1-1)),this.do=e(5e-4,.002)+.001*(this.comet+1-1)},this.fadeIn=function(){this.fadingIn&&(this.fadingIn=!(this.opacity>this.opacityTresh),this.opacity+=this.do)},this.fadeOut=function(){this.fadingOut&&(this.fadingOut=!(this.opacity<0),this.opacity-=this.do/2,(this.x>s||this.y<0)&&(this.fadingOut=!1,this.reset()))},this.draw=function(){if(r.beginPath(),this.giant)r.fillStyle="rgba("+u+","+this.opacity+")",r.arc(this.x,this.y,2,0,2*Math.PI,!1);else if(this.comet){r.fillStyle="rgba("+f+","+this.opacity+")",r.arc(this.x,this.y,1.5,0,2*Math.PI,!1);for(var t=0;t<30;t++)r.fillStyle="rgba("+f+","+(this.opacity-this.opacity/20*t)+")",r.rect(this.x-this.dx/4*t,this.y-this.dy/4*t-2,2,2),r.fill()}else r.fillStyle="rgba("+p+","+this.opacity+")",r.rect(this.x,this.y,this.r,this.r);r.closePath(),r.fill()},this.move=function(){this.x+=this.dx,this.y+=this.dy,!1===this.fadingOut&&this.reset(),(this.x>s-s/4||this.y<0)&&(this.fadingOut=!0)},setTimeout(function(){d=!1},50)}function o(t){return Math.floor(1e3*Math.random())+1<10*t}function e(t,i){return Math.random()*(i-t)+t}window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var s,h,a,r,c=.05,l=document.getElementById("universe"),d=!0,u="180,184,240",p="226,225,142",f="226,225,224",y=[];t(),window.addEventListener("resize",t,!1),function(){r=l.getContext("2d");for(var t=0;t<a;t++)y[t]=new n,y[t].reset();i()}(),function t(){document.body.classList.contains("night")&&i(),window.requestAnimationFrame(t)}()}(),function(){function t(t){"true"===t.toString()?(document.body.classList.remove("light"),document.body.classList.add("night")):(document.body.classList.remove("night"),document.body.classList.add("light"))}function i(){t(o=!o||"true"!==o.toString()),localStorage.setItem("night",o)}var n,o=localStorage.getItem("night");(function t(){(n=document.getElementById("night-nav"))?n.addEventListener("click",i):setTimeout(t,100)})(),o&&t(o)}(),function(t){function i(){t(window).width()<769?n.style.top=null:n?n.style.top=t(window).height()-n.scrollHeight-10+"px":setTimeout(function(){n=t(".column-left")[0],i()},500)}var h,a,n=t(".column-left")[0];i(),t(window).resize(i),h=["/","/api.html","/cms.html","/configuration.html","/faq.html","/link.html","/quick-start.html"],0!==(a=document.getElementsByClassName("twikoo-new-container")).length&&twikoo.getRecentComments({envId:window.twikooEnvId,pageSize:5,includeReply:!0}).then(function(t){for(var i="",n=0;n<t.length;n++){var o=t[n];o.commentText.trim()&&(-1!==h.indexOf(o.url)&&(o.url="https://twikoo.js.org"+o.url),i+='<article class="media"><div class="media-content"><p class="title twikoo-new-content"><a href="'+o.url+"#"+o.id+'">'+(""===(e=o.commentText)||150<(e=e.replace(/<[^>]+>/g,"")).length&&(e=e.substring(0,150)+"..."),e)+'</a></p><p class="date">'+o.nick+" / "+o.relativeTime+"</p></div></article>")}for(var e,s=0;s<a.length;s++)a[s].innerHTML=i}).catch(function(t){console.error(t),a.innerHTML="加载失败"})}(jQuery);var a_idx=0;jQuery(document).ready(function(s){s("body").click(function(t){var i=new Array("富强","民主","文明","和谐","自由","平等","公正","法治","爱国","敬业","诚信","友善"),n=s("<span/>").text(i[a_idx]);a_idx=(a_idx+1)%i.length;var o=t.pageX,e=t.pageY;n.css({"z-index":5,top:e-20,left:o,position:"absolute","font-weight":"bold",color:"rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"}),s("body").append(n),n.animate({top:e-180,opacity:0},3e3,function(){n.remove()})}),setTimeout("delay()",2e3)});